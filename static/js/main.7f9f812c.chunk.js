(this["webpackJsonpkamelon-app"]=this["webpackJsonpkamelon-app"]||[]).push([[0],{16:function(e,t,s){e.exports={dashboard:"dashboard_dashboard__2msx3",inputWrap:"dashboard_inputWrap__10TIO",testCount:"dashboard_testCount__11-H9",noResult:"dashboard_noResult__1p9d4"}},19:function(e,t,s){e.exports={filterBar:"filterBar_filterBar__3dIyD",arrow:"filterBar_arrow__2Zemz",arrowSwitch:"filterBar_arrowSwitch__2bebk"}},23:function(e,t,s){"use strict";s.d(t,"a",(function(){return A}));var n=s(38),r=s.n(n).a.create({baseURL:"http://localhost:3100/"}),A={getTests:function(){return r.get("tests")},getTestsById:function(e){return r.get("tests/".concat(e))},getSites:function(){return r.get("sites")},getSitesById:function(e){return r.get("tests/".concat(e))}}},26:function(e,t,s){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAMAAADDpiTIAAAARVBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADc6ur3AAAAFnRSTlMABwgKCwwWGBkag5GVtLi9wcLD1djZ0YEcIQAABJJJREFUeNrt0glqVGEQRtEXNRrjHPXtf6mCiDhkaOz/YTX3nA0U1P22DQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALsSz2+eeMNWL26vD+7/fP1jA1P4f93dXh/ffLWBu//3gBXzvbwGD+x+7gB/9LWBw/yMX8LO/BQzuf9wCfulvAYP7H7WA3/pbwOD+xyzgj/4WMLj/EQv4q78FDO6/fgH39LeAwf1XL+De/hYwuP/aBTzQ3wIG91+5gAf7W8Dg/usW8Eh/Cxjcf9UCHu1vAYP7r1nAE/0tYHD/FQt4sr8FDO5//gJO6G8Bg/ufu4CT+lvA4P7nLeDE/hYwuP9ZC3i77xZw6f33/c0/H3n1xQIuv//nl5sF6G8B+luA/hagvwXobwH6W4D+FqC/BehvAfpbgP4WoL8F6G8B+luA/hagvwXobwH6W4D+FqC/BehvAfpbgP4WoL8F6G8B+luA/haQ728B9f4WcHT/T8P7W0C9vwXU+1tAvb8F1PtbQL2/BdT7W0C9vwXU+1tAvb8F1PtbQL2/BdT7W0C9vwXU+1tAvb8F1PtbQL2/BdT7W0C9vwXU+1tAvb8F1PtbQL2/BdT7W0C9vwXU+2/bjQWk+1tAvb8F1PtbQL2/BdT7W0C9vwXU+1tAvb8F1PtbQL2/BdT7W0C9vwXU+1tAvb8F1PtbQL2/BdT7W0C9vwXU+1tAvb8F1PvnF5DvH1+A/u0F6N9ewLX+6QXo316A/u0F6N9egP7tBejfXoD+7QXo316A/u0F6N9egP7tBejfXoD+7QXo316A/u0F6N9egP7tBejfXoD+7QXo316A/u0F6N9egP7tBejfXoD+7QXo316A/u0F6N9egP7tBejfXoD+7QXo316A/qsW8PUiF6B/ewH6txegf3sB+rcXoH97Afq3F6B/ewH6txegf3sB+rcXoH97Afq3F6B/ewH6txegf3sB+rcXoH97Afq3F6B/ewHXd/qXF6B/ewH6txegf3sB+rcXoH97Afq3F6B/ewH6txegf3sB+rcXoH97Afq3F6B/ewH6txegf3sB+rcXoH97Afq3F6B/ewH6txegf3sB+rcXoH97Afq3F6B/ewH6txegf3sB+rcXoH97Afq3F6B/ewH6txegf3sB+rcXoH97Afq3F6D/xXq9YgH6txegf3sB+rcXoH97Afq3F6B/ewH6txegf3sB+rcXoH97Afq3F6B/ewH6xxegf3wB+luA/hagvwXobwH6W4D+FqC/BehvAfpbgP4WoH98Afq3F6B/ewH6txegf3sB+rcXoH97Afq3F6B/ewH6txegf3sB+rcXoH97Afq3F6B/ewH6txegf3sB+rcXoH97Afq3F6B/ewH6txegf3sB+rcXoH97Afq3F6B/ewH6txegf3sB+rcXoH97AfrHF6A/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPxP3wBuYkmdN0WxhwAAAABJRU5ErkJggg=="},37:function(e,t,s){e.exports={ldsDualRing:"Preloader_ldsDualRing__1Lhf0"}},4:function(e,t,s){e.exports={test:"test_test__HCHS9",bookmark:"test_bookmark__13msF",name:"test_name__1XE7T",type:"test_type__z7s4X",status:"test_status__3Rk6B",site:"test_site__2AbZE",nav:"test_nav__czsG4",red:"test_red__2f-jr",green:"test_green__2E6Tt",orange:"test_orange__CUV1g",crimson:"test_crimson__3YmkP",purple:"test_purple__1L6K_",violet:"test_violet__2Bheg"}},45:function(e,t,s){},46:function(e,t,s){},72:function(e,t,s){"use strict";s.r(t);var n=s(0),r=s.n(n),A=s(36),a=s.n(A),c=(s(45),s(46),s(2)),i=s(37),o=s.n(i),u=s(1),d=function(){return Object(u.jsx)("div",{className:o.a.ldsDualRing})},l=s(22),b=s.n(l),f=s(25),j=s(10),p=s(11),h=function(e){return{type:"SET-TESTS",data:e}},x=function(e){return{type:"SET-SITES",data:e}};function O(e,t){switch(t.type){case"SET-TESTS":return Object(p.a)(Object(p.a)({},e),{},{tests:t.data});case"SET-SITES":return Object(p.a)(Object(p.a)({},e),{},{sites:t.data});default:throw new Error}}var g={tests:[{id:1,name:"Prototype of the new map",type:"CLASSIC",status:"PAUSED",siteId:2},{id:2,name:"Dark theme test",type:"MVT",status:"DRAFT",siteId:3},{id:3,name:"New Year's Sale",type:"MVT",status:"STOPPED",siteId:1},{id:4,name:"Order basket redesing",type:"CLASSIC",status:"ONLINE",siteId:1},{id:5,name:"Spring promotion",type:"SERVER_SIDE",status:"DRAFT",siteId:2},{id:6,name:"Prototype of a new header",type:"SERVER_SIDE",status:"ONLINE",siteId:3},{id:7,name:"New Year's Sale Copy 1",type:"MVT",status:"DRAFT",siteId:1}],sites:[{id:1,url:"https://market.company.com"},{id:2,url:"https://www.delivery.company.com"},{id:3,url:"http://games.company.com"}]},m=Object(n.createContext)(null),w=function(e){var t=e.children,s=Object(n.useReducer)(O,g),r=Object(j.a)(s,2),A=r[0],a=r[1];return Object(u.jsx)(m.Provider,{value:Object(p.a)(Object(p.a)({},A),{},{dispatch:a}),children:t})},v=function(){var e=Object(n.useContext)(m);if(!e)throw new Error("Hook should only be used inside StateProvider");return e},B=s(16),_=s.n(B),y=s(23),D=s.p+"static/media/search.79af9dfe.png",S=s(9),F=s(19),H=s.n(F),T=s(15),X=s.n(T),E=s(26),C=r.a.memo((function(e){var t=e.setType,s=e.sortDirection,n=e.setSortDirection;return Object(u.jsxs)("div",{className:H.a.filterBar,children:[Object(u.jsx)(P,{sortDirection:s,setSortDirection:n,left:38,type:"name",setType:t}),Object(u.jsx)(P,{sortDirection:s,setSortDirection:n,type:"type",setType:t}),Object(u.jsx)(P,{sortDirection:s,setSortDirection:n,left:47,type:"status",setType:t}),Object(u.jsx)(P,{sortDirection:s,setSortDirection:n,left:29,name:"site",type:"url",setType:t})]})})),P=r.a.memo((function(e){var t=e.setType,s=e.sortDirection,r=e.setSortDirection,A=e.type,a=e.name,c=e.left,i=Object(n.useState)(!0),o=Object(j.a)(i,2),d=o[0],l=o[1];return Object(u.jsx)("div",{children:Object(u.jsxs)("button",{className:X()(H.a.arrow,Object(S.a)({},H.a.arrowSwitch,d)),onClick:function(){t(A),r(!s),l(!d)},children:[Object(u.jsx)("div",{style:{backgroundImage:"url(".concat(E.a,")"),left:"".concat(c,"px")}}),a||A]})})})),I=s(13),k=s(4),L=s.n(k),N=r.a.memo((function(e){var t,s,n,r=e.id,A=e.status,a=e.type,c=e.name,i=e.url,o=e.index;switch(a){case"CLASSIC":n="Classic";break;case"SERVER_SIDE":n="Server-side";break;case"MVT":n="MVT";break;default:throw new Error}return Object(u.jsxs)("section",{className:L.a.test,children:[Object(u.jsx)("div",{className:X()(L.a.bookmark,(t={},Object(S.a)(t,L.a.crimson,"market.company.com"===i),Object(S.a)(t,L.a.purple,"games.company.com"===i),Object(S.a)(t,L.a.violet,"delivery.company.com"===i),t))}),Object(u.jsxs)("div",{className:L.a.name,children:[" ",c]}),Object(u.jsxs)("div",{className:L.a.type,children:[" ",n]}),Object(u.jsxs)("div",{className:X()(L.a.status,(s={},Object(S.a)(s,L.a.red,"Stopped"===A),Object(S.a)(s,L.a.green,"Online"===A),Object(S.a)(s,L.a.orange,"Paused"===A),s)),children:[" ",A]}),Object(u.jsxs)("div",{className:L.a.site,children:[" ",i]}),r%2?Object(u.jsx)(I.b,{tabIndex:o,style:{background:"#2EE5AC"},className:L.a.nav,to:"/result/"+r,children:"Result"}):Object(u.jsx)(I.b,{tabIndex:o,style:{background:"#7D7D7D"},className:L.a.nav,to:"/finalize/"+r,children:"Finalize"})]})})),W=function(){var e=v().dispatch,t=v(),s=t.tests,r=t.sites,A=Object(n.useState)(""),a=Object(j.a)(A,2),c=a[0],i=a[1],o=Object(n.useState)("name"),d=Object(j.a)(o,2),l=d[0],p=d[1],O=Object(n.useState)(!0),g=Object(j.a)(O,2),m=g[0],w=g[1],B=Object(n.useRef)(null);Object(n.useEffect)((function(){document.title="Dashboard"}),[]),Object(n.useEffect)((function(){function t(){return(t=Object(f.a)(b.a.mark((function t(){var s,n,r,A;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.a.getTests();case 2:return s=t.sent,t.prev=3,"OK"===s.statusText&&(n=s.data,e(h(n))),t.next=7,y.a.getSites();case 7:"OK"===(r=t.sent).statusText&&(A=r.data,e(x(A))),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[3,11]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]);var S=r.map((function(e){var t=e.url.replace(/\b((www\.)|(https:\/\/)|(http:\/\/))\b/g,"");return{id:e.id,url:t}})),F=s.map((function(e){var t=e.status.charAt(0)+e.status.toLowerCase().slice(1),s=S.find((function(t){return t.id===e.siteId}));return{id:e.id,name:e.name,type:e.type,status:t,siteId:e.siteId,url:s&&s.url,urlId:s&&s.id}})),H=[];function T(e,t){return e&&t?m?e>t?1:e<t?-1:0:e<t?1:e>t?-1:0:0}!function(e){switch(e){case"name":return H=F.sort((function(e,t){return T(e.name,t.name)}));case"type":return H=F.sort((function(e,t){return T(e.type,t.type)}));case"url":return H=F.sort((function(e,t){return T(e.url,t.url)}));case"status":return H=F.sort((function(e,t){var s=["Online","Paused","Stopped","Draft"],n=s.indexOf(e.status),r=s.indexOf(t.status);return m?n>r?1:-1:n<r?1:-1}));default:throw new Error}}(l);var X=H.filter((function(e){return[c].every((function(t){return e.name.toLowerCase().includes(t)}))}));return Object(u.jsxs)("main",{className:_.a.dashboard,children:[Object(u.jsx)("h1",{children:"Dashboard "}),Object(u.jsxs)("div",{className:_.a.inputWrap,children:[Object(u.jsx)("input",{tabIndex:1,style:{backgroundImage:"url(".concat(D,")")},placeholder:"What test are you looking for?",value:c,onChange:function(e){i(e.currentTarget.value)},type:"text"}),Object(u.jsxs)("div",{className:_.a.testCount,children:[X.length," tests"]})]}),X.length>0?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(C,{sortDirection:m,setSortDirection:w,setType:p}),Object(u.jsx)("ul",{children:X.map((function(e,t){return Object(u.jsx)("li",{ref:B,children:Object(u.jsx)(N,{id:e.id,type:e.type,status:e.status,index:t+1,url:e.url,name:e.name},e.id)},e.id)}))})]}):Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:_.a.noResult,children:[Object(u.jsx)("span",{children:"Your search did not match any results."}),Object(u.jsx)("button",{onClick:function(){i("")},children:"Reset"})]})})]})},R=Object(n.lazy)((function(){return s.e(3).then(s.bind(null,74))})),q=Object(n.lazy)((function(){return s.e(4).then(s.bind(null,75))}));var Q=function(){return Object(u.jsx)("div",{className:"container",children:Object(u.jsx)(n.Suspense,{fallback:Object(u.jsx)(d,{}),children:Object(u.jsxs)(c.d,{children:[Object(u.jsx)(c.b,{path:"/",exact:!0,render:function(){return Object(u.jsx)(c.a,{to:"dashboard"})}}),Object(u.jsx)(c.b,{path:"/dashboard",render:function(){return Object(u.jsx)(W,{})}}),Object(u.jsx)(c.b,{path:"/result/:id",render:function(){return Object(u.jsx)(q,{})}}),Object(u.jsx)(c.b,{path:"/finalize/:id",render:function(){return Object(u.jsx)(R,{})}})]})})})},U=function(e){e&&e instanceof Function&&s.e(5).then(s.bind(null,76)).then((function(t){var s=t.getCLS,n=t.getFID,r=t.getFCP,A=t.getLCP,a=t.getTTFB;s(e),n(e),r(e),A(e),a(e)}))};a.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(I.a,{children:Object(u.jsx)(w,{children:Object(u.jsx)(Q,{})})})}),document.getElementById("root")),U()}},[[72,1,2]]]);
//# sourceMappingURL=main.7f9f812c.chunk.js.map